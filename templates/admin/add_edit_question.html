{% extends 'admin/base.html' %}

{% block title %}{% if question %}Edit Question{% else %}Add Question{% endif %}{% endblock %}

{% block content %}
<div class="admin-container">
    <h1>{% if question %}Edit Question{% else %}Add New Question{% endif %}</h1>
    
    <form method="post" class="admin-form">
        <div class="form-group">
            <label for="question_text">Question Text:</label>
            <textarea id="question_text" name="question_text" rows="4" required>{{ question.question_text if question else '' }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="topic">Topic:</label>
            <input type="text" id="topic" name="topic" value="{{ question.topic if question else '' }}" required>
        </div>
        
        <div class="form-group">
            <label for="difficulty">Difficulty Level:</label>
            <select id="difficulty" name="difficulty">
                <option value="easy" {% if question and question.difficulty == 'easy' %}selected{% endif %}>Easy</option>
                <option value="medium" {% if question and question.difficulty == 'medium' %}selected{% endif %}>Medium</option>
                <option value="hard" {% if question and question.difficulty == 'hard' %}selected{% endif %}>Hard</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="option_a">Option A:</label>
            <input type="text" id="option_a" name="option_a" value="{{ question.option_a if question else '' }}" required>
        </div>
        
        <div class="form-group">
            <label for="option_b">Option B:</label>
            <input type="text" id="option_b" name="option_b" value="{{ question.option_b if question else '' }}" required>
        </div>
        
        <div class="form-group">
            <label for="option_c">Option C:</label>
            <input type="text" id="option_c" name="option_c" value="{{ question.option_c if question else '' }}" required>
        </div>
        
        <div class="form-group">
            <label for="option_d">Option D:</label>
            <input type="text" id="option_d" name="option_d" value="{{ question.option_d if question else '' }}" required>
        </div>
        
        <div class="form-group">
            <label for="correct_option">Correct Option:</label>
            <select id="correct_option" name="correct_option" required>
                <option value="A" {% if question and question.correct_option == 'A' %}selected{% endif %}>A</option>
                <option value="B" {% if question and question.correct_option == 'B' %}selected{% endif %}>B</option>
                <option value="C" {% if question and question.correct_option == 'C' %}selected{% endif %}>C</option>
                <option value="D" {% if question and question.correct_option == 'D' %}selected{% endif %}>D</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="explanation">Explanation:</label>
            <textarea id="explanation" name="explanation" rows="4">{{ question.explanation if question else '' }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="nec_reference">NEC Reference (optional):</label>
            <input type="text" id="nec_reference" name="nec_reference" value="{{ question.nec_reference if question else '' }}">
        </div>
        
        <div class="form-actions">
            <button type="submit" class="button primary">Save Question</button>
            <a href="{{ url_for('admin.questions') }}" class="button">Cancel</a>
        </div>
    </form>
</div>
{% endblock %} 